/*! @name videojs-google-analytics @version 2.0.0 @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).videojsGoogleAnalytics=t(e.videojs)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=t(e),a={events:[],assetName:"Video",defaultVideoCategory:"Video",defaultAudioCategory:"Audio"},n=o.default.registerPlugin||o.default.plugin,l=function(e,t){e.addClass("vjs-google-analytics");var o="ga_video_name",a="ga_video_category",n="ga_video_elapsed",l="ga_video_duration",i="ga_video_percent";function r(e){return new Date(1e3*e).toISOString().slice(11,19)}var d=t.events;e.on("loadeddata",(function(e){var t,r,d,u,g;t=localStorage.getItem(o),r=localStorage.getItem(a),d=localStorage.getItem(n),u=localStorage.getItem(l),g=localStorage.getItem(i),null!=t&&null!=r&&null!=d&&null!=u&&null!=g&&(gtag("event",t,{event_category:r,view:1,time:d,duration:u,percentage:g}),localStorage.clear())})),e.on("timeupdate",(function(){!function(e,t,d){var u=Math.round(e.currentTime()),g=Math.round(e.duration()),c=Math.round(u/g*100)+"%";localStorage.setItem(o,t),localStorage.setItem(a,d),localStorage.setItem(n,r(u)),localStorage.setItem(l,r(g)),localStorage.setItem(i,c)}(e,d.name,d.category)}))},i=function(e){var t=this;this.ready((function(){l(t,o.default.mergeOptions(a,e))}))};return n("googleAnalytics",i),i.VERSION="2.0.0",i}));
